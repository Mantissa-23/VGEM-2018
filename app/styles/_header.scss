header {
  // Establish variables
  $nav-height-expanded: 20em;
  $nav-padding: 0em;
  /*Keeps the nav bar sticking on the top*/ 
  $nav-background-color: $background-dark-1;
  $nav-text-color: $text-light;
  $nav-accent-color: $accent-cold;

  // Custom grids for navbar and dropdown
  $nav-grid: (
    columns: 8, // 1 column for each item
    gutter: 0px,
  );
  $nav-grid-dropdown: (
      columns: 1,
      gutter: 0px,
  );

  @include common-style;

  // BEGIN STYLING
  &, * {
    box-sizing: border-box; // Use box sizing for entire navbar to avoid clipping
  }
  // Stick to top of window
  position: fixed; // Stick to top of screen
  top: $igem-navbar-height; // Compensate for the iGEM Wiki builtin navbar.
  margin: 0 auto;
  padding: $nav-padding 0;
  z-index: 999; // This goes over *everything*
  width: max-content;
  text-align: center;
  background-color: $nav-background-color;
  width: 100%;

  transition: all 0.1s;
  //transform: translateX(25vw);
  //opacity: 1;
  &.scrollUp {
    transform: translateY(-$nav-height);
    //opacity: 0;
  }
  overflow: hidden;


  #navbar {
    height: $nav-height;
    &:hover, &:focus {
      height: auto;
      & > ul > li {
        height: auto;
      }
    }
    //width: 100%;
    display: flex;
    justify-content: center;
    padding-bottom: 1em;
    ul {
      display: flex;
      list-style: none;
      margin: 0px;
      padding: 0px;
      li {
        flex: 1;
        //@include grid-column(1, $nav-grid);
        float: left;
        position: relative; // This is required for dropdowns to be positioned relative to the navbar instead of the browser window
        line-height: $nav-height; // Center text
        //height: $nav-height; // Set container height to navbar height
        /* dividers for easier/organized view*/
        .divider {
          flex: 0 0 1px;
          overflow: hidden;
          background-color: $nav-accent-color;
        }
        /*a, related to link*/
        a, a:visited {
          display: flex;
          align-items: center;
          padding: 0 20px;
          width: 100%;
          //background: $nav-background-color;
          color: $nav-text-color;
          font-size: 1em;
          white-space: nowrap; // Text is occluded instead of wrapped
          // Re-add link glow to fix animation
          transition: all 0.2s ease-in-out;
          img {
            display: inline-block;
            margin: 0.1rem;
            min-height: 100%;
            height: auto;
            width: auto;
          }
          &:hover {
            color: $nav-accent-color;
            text-shadow: 0px 0px 8px $nav-accent-color;
          }
          /*adds the arrow to dropdowns, selects not only-child*/
          &:not(:only-child):after {
            padding-left: 4px;
            content: ' â–¾';
          }
        }
        ul {
          display: flex;
          flex-direction: column;

          // Slide-down animation
          //visibility: hidden;
          //opacity: 0;
          //transform: translateX(-50%) translateY(-2em);
          transition: all 0.2s ease-in-out 0s, visibility 0s linear 0.3s, z-index 0s linear 0.01s;
          li {
            overflow: hidden;
            font-size: 0.8em;
          }
        }
      }
    }
  }
}

